<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="description"
    content="Deformable Neural Radiance Fields creates free-viewpoint portraits (nerfies) from casually captured videos.">
  <meta name="keywords" content="Nerfies, D-NeRF, NeRF">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>ShortcutsBench: A Large-Scale Real-World Benchmark for API-Based Agents</title>

  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-PYVRSFMDRL"></script>
  <script>
    window.dataLayer = window.dataLayer || [];

    function gtag() {
      dataLayer.push(arguments);
    }

    gtag('js', new Date());

    gtag('config', 'G-PYVRSFMDRL');
  </script>

  <link href="https://fonts.googleapis.com/css?family=Google+Sans|Noto+Sans|Castoro" rel="stylesheet">

  <link rel="stylesheet" href="./static/css/bulma.min.css">
  <link rel="stylesheet" href="./static/css/bulma-carousel.min.css">
  <link rel="stylesheet" href="./static/css/bulma-slider.min.css">
  <link rel="stylesheet" href="./static/css/fontawesome.all.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jpswalsh/academicons@1/css/academicons.min.css">
  <link rel="stylesheet" href="./static/css/index.css">
  <link rel="icon" href="./static/images/favicon.svg">

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script defer src="./static/js/fontawesome.all.min.js"></script>
  <script src="./static/js/bulma-carousel.min.js"></script>
  <script src="./static/js/bulma-slider.min.js"></script>
  <script src="./static/js/index.js"></script>
</head>

<body>

  <!-- <nav class="navbar" role="navigation" aria-label="main navigation">
    <div class="navbar-brand">
      <a role="button" class="navbar-burger" aria-label="menu" aria-expanded="false">
        <span aria-hidden="true"></span>
        <span aria-hidden="true"></span>
        <span aria-hidden="true"></span>
      </a>
    </div>
    <div class="navbar-menu">
      <div class="navbar-start" style="flex-grow: 1; justify-content: center;">
        <a class="navbar-item" href="https://keunhong.com">
          <span class="icon">
            <i class="fas fa-home"></i>
          </span>
        </a>

        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link">
            More Research
          </a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="https://hypernerf.github.io">
              HyperNeRF
            </a>
            <a class="navbar-item" href="https://nerfies.github.io">
              Nerfies
            </a>
            <a class="navbar-item" href="https://latentfusion.github.io">
              LatentFusion
            </a>
            <a class="navbar-item" href="https://photoshape.github.io">
              PhotoShape
            </a>
          </div>
        </div>
      </div>

    </div>
  </nav> -->


  <section class="hero">
    <div class="hero-body">
      <div class="container is-max-desktop">
        <div class="columns is-centered">
          <div class="column has-text-centered">
            <h1 class="title is-1 publication-title">ShortcutsBench: A Large-Scale Real-World Benchmark for API-Based
              Agents</h1>
            <div class="is-size-5 publication-authors">
              <span class="author-block">
                <a href="https://github.com/eachsheep/" target="_blank">Haiyang Shen</a><sup>1,2</sup>,
              </span>
              <span class="author-block">
                <span>Yue Li</span><sup>3</sup>,
              </span>
              <span class="author-block">
                <span>Desong Meng</span><sup>4</sup>,
              </span>
              <span class="author-block">
                <a href="https://www.caidongqi.com/" target="_blank">Dongqi Cai</a><sup>5</sup>,
              </span>
              <span class="author-block">
                <a href="https://tomquartz.github.io/" target="_blank">Sheng Qi</a><sup>2</sup>,
              </span>
              <span class="author-block">
                <a href="https://lizhang20.github.io/" target="_blank">Li Zhang</a><sup>5</sup>,
              </span>
              <span class="author-block">
                <a href="https://xumengwei.github.io/" target="_blank">Mengwei Xu</a><sup>5</sup>,
              </span>
              <span class="author-block">
                <a href="https://scholar.google.com/citations?user=1hnJ3TgAAAAJ&hl=en" target="_blank">Yun
                  Ma</a><sup>1*</sup>
              </span>
            </div>

            <div class="is-size-5 publication-authors">
              <span class="author-block"><sup>1</sup>Institute for Artificial Intelligence, Peking University,</span>
              <span class="author-block"><sup>2</sup>School of Computer Science, Peking University,</span>
              <span class="author-block"><sup>3</sup>School of Software & Microelectronics, Peking University,</span>
              <span class="author-block"><sup>4</sup>School of Electronics Engineering and Computer Science, Peking
                University,</span>
              <span class="author-block"><sup>5</sup>Beijing University of Posts and Telecommunications</span>
            </div>

            <div class="column has-text-centered">
              <div class="publication-links">
                <!-- PDF Link. -->
                <!-- <span class="link-block">
                  <a href="https://arxiv.org/pdf/2407.00132" class="external-link button is-normal is-rounded is-dark">
                    <span class="icon">
                      <i class="fas fa-file-pdf"></i>
                    </span>
                    <span>Paper</span>
                  </a>
                </span> -->
                <span class="link-block">
                  <a href="https://arxiv.org/pdf/2407.00132" class="external-link button is-normal is-rounded is-dark">
                    <span class="icon">
                      <i class="ai ai-arxiv"></i>
                    </span>
                    <span>arXiv</span>
                  </a>
                </span>
                <span class="link-block">
                  <a href="https://github.com/EachSheep/ShortcutsBench"
                    class="external-link button is-normal is-rounded is-dark">
                    <span class="icon">
                      <i class="fab fa-github"></i>
                    </span>
                    <span>Code</span>
                  </a>
                </span>
                <!-- Dataset Link. -->
                <span class="link-block">
                  <a href="https://github.com/EachSheep/ShortcutsBench"
                    class="external-link button is-normal is-rounded is-dark">
                    <span class="icon">
                      <i class="far fa-images"></i>
                    </span>
                    <span>Data</span>
                  </a>
              </div>

            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section class="section" style="background-color:#efeff081">
    <div class="container is-max-desktop">
      <!-- Abstract. -->
      <div class="columns is-centered has-text-centered">
        <div class="column is-four-fifths">
          <h2 class="title is-3">Abstract</h2>
          <div class="content has-text-justified">
            <p>
              Recent advancements in integrating large language models (LLMs) with application programming interfaces
              (APIs) have gained significant interest in both academia and industry. These API-based agents, leveraging
              the strong autonomy and planning capabilities of LLMs, can efficiently solve problems requiring multistep
              actions.
            </p>
            <p>
              However, their ability to handle multi-dimensional difficulty levels, diverse task types, and real-world
              demands through APIs remains unknown. In this paper, we introduce ShortcutsBench, a large-scale benchmark
              for the comprehensive evaluation of API-based agents in solving tasks with varying levels of difficulty,
              diverse task types, and real-world demands.
            </p>
            <p>
              ShortcutsBench includes a wealth of real APIs from Apple Inc.â€™s operating systems, refined user queries
              from shortcuts, human-annotated high-quality action sequences from shortcut developers, and accurate
              parameter filling values about primitive parameter types, enum parameter types, outputs from previous
              actions, and parameters that need to request necessary information from the system or user. Our extensive
              evaluation of agents built with 5 leading open-source (size >= 57B) and 4 closed source LLMs (e.g.
              Gemini-1.5-Pro and GPT-3.5) reveals significant limitations in handling complex queries related to API
              selection, parameter filling, and requesting necessary information from systems and users. These findings
              highlight the challenges that API-based agents face in effectively fulfilling real and complex user
              queries. All datasets, code, and experimental results will be available at
              https://github.com/eachsheep/shortcutsbench.
            </p>
          </div>
        </div>
      </div>
      <!--/ Abstract. -->
    </div>
  </section>

  <section class="section">
    <div class="container is-max-desktop">
      <!-- Abstract. -->
      <div class="columns is-centered has-text-centered">
        <div class="column is-six-fifths">
          <h2 class="title is-3"><img id="painting_icon" width="3%" src="https://mmevalpro.github.io/"><span
              style="color: #9d32d7;">Advantages</span>
          </h2>
          <div class="content has-text-justified">
            <p>
              To our knowledge, ShortcutsBench is the first large-scale agent benchmark based on real APIs, considering
              APIs, queries, and corresponding action sequences. ShortcutsBench provides a rich set of real APIs,
              queries of varying difficulty and task types, high-quality human-annotated action sequences (provided by
              shortcut developers), and queries from real user needs. Additionally, it offers precise parameter value
              filling, including raw data types, enumeration types, and using outputs from previous actions as parameter
              values, and evaluates the agent's awareness of requesting necessary information from the system or users.
              Moreover, the scale of APIs, queries, and corresponding action sequences in ShortcutsBench rivals or even
              surpasses benchmarks and datasets created by LLMs or modified from existing datasets. A comprehensive
              comparison between ShortcutsBench and existing benchmarks/datasets is shown in the table below.
            </p>
          </div>
          <div class="content has-text-centered">
            <img src="./static/images/Comparison.png" alt="Advantages of ShortcutsBench">
          </div>
        </div>
      </div>
      <!--/ Abstract. -->
    </div>
  </section>

  <section class="section">
    <div class="container is-max-desktop">
      <!-- Evaluation Setup. -->
      <div class="columns is-centered has-text-centered">
        <div class="column is-six-fifths">
          <h2 class="title is-3"><span style="color: #9d32d7;">Evaluation Setup</span></h2>
          <div class="content has-text-justified">
            <h3 class="title is-4">Model</h3>
            <p>
              Referencing existing work, we selected and tested <strong>9 most advanced LLMs</strong> to construct
              API-based agents.
              These models include <strong>4 closed-sourced LLMs</strong> like <code>Gemini-1.5-Pro</code>,
              <code>Gemini-1.5-Flash</code>,
              <code>GPT-3.5-turbo</code>, and <code>ChatGLM-4-Air</code>, and <strong>5 open-source LLMs</strong> like
              <code>LLaMA-3-70B</code>, <code>QWen-2-70B</code>, <code>QWen-2-57B</code>, <code>Deepseek-2-Chat</code>,
              and
              <code>Deepseek-2-coder</code>. These models were chosen based on their performance compared to
              <code>GPT-4</code> and
              <code>GPT-3.5-turbo</code>. We did not evaluate smaller LLMs as they cannot handle advanced tasks
              effectively.
            </p>
            <h3 class="title is-4">Prompt Template</h3>
            <p>
              Following existing work, we slightly modified the <strong>ReACT</strong> templates to construct the
              API-based agents.
              The same prompt templates were used for all research questions to ensure consistency. These agents are
              designed to
              correctly select APIs, fill in parameters, and request necessary information when needed.
            </p>
          </div>
        </div>
      </div>
      <!--/ Evaluation Setup. -->

      <!-- Result Analysis. -->
      <div class="columns is-centered has-text-centered">
        <div class="column is-six-fifths">
          <h2 class="title is-3"><span style="color: #9d32d7;">Result Analysis</span></h2>
          <div class="content has-text-justified">
            <div class="content has-text-centered">
              <img src="./static/images/experiments1_res.pdf"
                alt="The API selection accuracy on queries with different complexity levels.">
              <figcaption>The API selection accuracy on queries with different complexity levels.</figcaption>
            </div>
            <div class="content has-text-centered">
              <img src="./static/images/experiments1_models_boxplot.pdf"
                alt="The API selection accuracy difference of each LLM across 8 task types.">
              <figcaption>The API selection accuracy difference of each LLM across 8 task types.</figcaption>
            </div>
            <div class="content has-text-centered">
              <img src="./static/images/experiments1_categories_res.pdf"
                alt="The API selection accuracy of each task type on 9 API-based agents.">
              <figcaption>The API selection accuracy of each task type on 9 API-based agents.</figcaption>
            </div>
            <p><strong>Key Findings:</strong></p>
            <ul>
              <li><strong>Open-source LLMs perform comparably to closed-source models on lower-difficulty tasks</strong>
                but still lag on higher-difficulty tasks.</li>
              <li><strong>LLM-based agents perform poorly on tasks requiring multi-step reasoning</strong>, even
                advanced models struggle with high-difficulty tasks.</li>
              <li><strong>Significant performance variations across different types of tasks</strong> for agents built
                with the same LLM.</li>
              <li><strong>Better performance on daily life tasks</strong> like Lifestyle & Social, but poorer on
                professional tasks like Development & API.</li>
            </ul>
          </div>
        </div>
      </div>
      <!--/ Result Analysis. -->
    </div>
  </section>

  <section class="section" id="BibTeX">
    <div class="container is-max-desktop content">
      <h2 class="title">BibTeX</h2>
      <pre><code>@misc{shen2024shortcutsbenchlargescalerealworldbenchmark,
        title={ShortcutsBench: A Large-Scale Real-world Benchmark for API-based Agents}, 
        author={Haiyang Shen and Yue Li and Desong Meng and Dongqi Cai and Sheng Qi and Li Zhang and Mengwei Xu and Yun Ma},
        year={2024},
        eprint={2407.00132},
        archivePrefix={arXiv},
        primaryClass={cs.SE},
        url={https://arxiv.org/abs/2407.00132}, 
  }</code></pre>
    </div>
  </section>


  <footer class="footer">
    <div class="container">
      <div class="content has-text-centered">
        <a class="icon-link" href="https://arxiv.org/pdf/2407.00132">
          <i class="fas fa-file-pdf"></i>
        </a>
        <a class="icon-link" href="https://github.com/EachSheep/" class="external-link" disabled>
          <i class="fab fa-github"></i>
        </a>
      </div>
      <div class="columns is-centered">
        <div class="column is-8">
          <div class="content">
            <p>
              This website is licensed under a <a rel="license"
                href="http://creativecommons.org/licenses/by-sa/4.0/">Creative
                Commons Attribution-ShareAlike 4.0 International License</a>.
            </p>
            <p>
              This means you are free to borrow the <a href="https://github.com/eachsheep/ShortcutsBench/">source
                code</a> of this website,
              we just ask that you link back to this page in the footer.
              Please remember to remove the analytics code included in the header of the website which
              you do not want on your website.
            </p>
          </div>
        </div>
      </div>
    </div>
  </footer>

</body>

</html>