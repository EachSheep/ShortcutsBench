<div align= "center">
    <h1> ğŸ”§ShortcutsBenchğŸ“±</h1>
</div>

<div align="center">

![Dialogues](https://img.shields.io/badge/App\_Num-88-red?style=flat-square)
![Dialogues](https://img.shields.io/badge/API\_Num-1414-red?style=flat-square)
![Dialogues](https://img.shields.io/badge/Shortcuts\_Num-7628-red?style=flat-square)
![Dialogues](https://img.shields.io/badge/Avg\_APIs-7.86-red?style=flat-square)
![Dialogues](https://img.shields.io/badge/Avg\_Actions-21.46-red?style=flat-square)

</div>

<!-- <p align="center">
  <a href="#model">Model</a> â€¢
  <a href="#data">Data Release</a> â€¢
  <a href="#web-ui">Web Demo</a> â€¢
  <a href="#tool-eval">Tool Eval</a> â€¢
  <a href="https://arxiv.org/pdf/2307.16789.pdf">Paper</a> â€¢
  <a href="#citation">Citation</a>

</p> -->

</div>

*Read this in [English](README.md).*

**å¿«æ·æŒ‡ä»¤ï¼ˆShortcutsï¼‰æ˜¯ä»€ä¹ˆï¼Ÿ**

å¿«æ·æŒ‡ä»¤æ˜¯ç”±å¼€å‘è€…åœ¨å¿«æ·æŒ‡ä»¤Appä¸­ï¼Œé€šè¿‡ç”¨æˆ·å‹å¥½çš„å›¾å½¢åŒ–ç•Œé¢ğŸ–¼ï¸ï¼Œåˆ©ç”¨æä¾›çš„åŸºæœ¬åŠ¨ä½œæ„å»ºçš„å·¥ä½œæµğŸ”„ã€‚[è‹¹æœå®˜æ–¹](https://support.apple.com/zh-cn/guide/shortcuts/welcome/ios)ç§°å…¶ä¸ºâ€œä¸€ç§å¯è®©ä½ ä½¿ç”¨ App å®Œæˆä¸€ä¸ªæˆ–å¤šä¸ªä»»åŠ¡çš„å¿«æ·æ–¹å¼ã€‚â€ğŸ“±

**æ­¤é¡¹ç›®ä»»åŠ¡æ¸…å•ï¼ˆæŒç»­æ›´æ–°ä¸­ï¼‰ğŸ“‹**

æ‰€æœ‰çš„æ•°æ®ã€æ•°æ®è·å–è¿‡ç¨‹ã€æ¸…æ´—æ•°æ®æ—¶äº§ç”Ÿçš„æ•°æ®ã€æ¸…æ´—è„šæœ¬ã€å®éªŒè„šæœ¬ã€ç»“æœç­‰æ‰€æœ‰æ–‡ä»¶ï¼Œè¯·å‚è§[`deves_dataset/dataset_src/README.md`ï¼ˆè‹±æ–‡ï¼‰](deves_dataset/dataset_src/README.md)æˆ–[ï¼ˆä¸­æ–‡ï¼‰](deves_dataset/dataset_src/README_ZH.md)ã€[`deves_dataset/dataset_src_valid_apis/README.md`ï¼ˆè‹±æ–‡ï¼‰](deves_dataset/dataset_src_valid_apis/README.md)æˆ–[ä¸­æ–‡](deves_dataset/dataset_src_valid_apis/README_ZH.md)ã€å’Œ[`experiments/README.md`ï¼ˆè‹±æ–‡ï¼‰](experiments/README.md)æˆ–[ä¸­æ–‡](experiments/README_ZH.md)

- [x] [ShortcutsBenchè®ºæ–‡æ­£æ–‡](https://arxiv.org/pdf/2407.00132)
- [x] [ShortcutsBenchè®ºæ–‡é™„å½•](https://arxiv.org/pdf/2407.00132)
- [x] æ•°æ®è·å–è¿‡ç¨‹çš„è„šæœ¬ã€æ•°æ®æ¸…æ´—å’Œå¤„ç†çš„è„šæœ¬ã€å®éªŒä»£ç ã€å®éªŒç»“æœ
- [x] æˆ‘ä»¬ä¸ºæ™®é€šç”¨æˆ·æä¾›å«æœ‰åŒè¯­è§£é‡Šçš„å¿«æ·æŒ‡ä»¤æ•°æ®ï¼šå³`users_dataset/${website name}/${category name}/README.md`ï¼ˆè‹±æ–‡ï¼‰æˆ–`users_dataset/${website name}/${category name}/README_ZH.md`ï¼ˆä¸­æ–‡ï¼‰ä¸­åˆ—å‡ºçš„å¿«æ·æŒ‡ä»¤ã€‚ä¸€èˆ¬å¿«æ·æŒ‡ä»¤ç”¨æˆ·å¯ä»¥åœ¨æˆ‘ä»¬çš„ä»“åº“ä¸­æ‰¾åˆ°é€‚åˆå…¶å·¥ä½œæˆ–ç”Ÿæ´»çš„å¿«æ·æŒ‡ä»¤ï¼Œå¯¼å…¥è‹¹æœè®¾å¤‡ä¸Šçš„å¿«æ·æŒ‡ä»¤Appä½¿ç”¨å³å¯ã€‚æ¯æ¡å¿«æ·æŒ‡ä»¤åŒ…æ‹¬ï¼š
    1. å¿«æ·æŒ‡ä»¤çš„iCloudé“¾æ¥
    2. å¿«æ·æŒ‡ä»¤çš„åŠŸèƒ½æè¿°
    3. è¯¥å¿«æ·æŒ‡ä»¤çš„æ¥æº

* **å¯¹äºå¿«æ·æŒ‡ä»¤çš„ç ”ç©¶è€…**ï¼š`ShortcutsBench`æä¾›ï¼šï¼ˆ1ï¼‰å¿«æ·æŒ‡ä»¤ï¼ˆå³`golden`çš„åŠ¨ä½œåºåˆ—ï¼‰ï¼›ï¼ˆ2ï¼‰æŸ¥è¯¢ï¼ˆå³å®‰æ’ç»™æ™ºèƒ½ä½“çš„ä»»åŠ¡ï¼‰ï¼›ï¼ˆ3ï¼‰APIsï¼ˆå³æ™ºèƒ½ä½“å¯ä»¥ä½¿ç”¨çš„å·¥å…·ï¼‰ã€‚
    - [x] å¿«æ·æŒ‡ä»¤
        - [x] å¿«æ·æŒ‡ä»¤æ•°æ®é›†æœªæ¸…æ´—ç‰ˆï¼Œå³æ–‡ä»¶`1_final_detailed_records_remove_repeat.json`ï¼Œå¯ä»¥ä¾æ®[`deves_dataset/dataset_src/README.md`](deves_dataset/dataset_src/README.md)ï¼ˆè‹±æ–‡ï¼‰æˆ–[`deves_dataset/dataset_src/README_ZH.md`](deves_dataset/dataset_src/README_ZH.md)ï¼ˆä¸­æ–‡ï¼‰çš„æè¿°è¿›è¡Œä¸‹è½½ï¼Œä¹Ÿå¯ä»¥ç›´æ¥ä»[Googleäº‘ç›˜](https://drive.google.com/file/d/1oijSStXYGcmv6-THYVb6j0oCIfto_bVh/view?usp=sharing)æˆ–[ç™¾åº¦ç½‘ç›˜](https://pan.baidu.com/s/1VJMDcWv3diRzecQisA80bQ?pwd=4wv1)è·å–ï¼Œè§£å‹å¯†ç ä¸º`shortcutsbench`

            è¯¥æ–‡ä»¶ä¸­å¿«æ·æŒ‡ä»¤æ¶‰åŠåˆ°çš„APIä¸ä¸€å®šæœ‰ç›¸å…³çš„APIå®šä¹‰æ–‡ä»¶

        - [x] å¿«æ·æŒ‡ä»¤æ•°æ®é›†ï¼Œå³æ–‡ä»¶`1_final_detailed_records_filter_apis.json`ï¼Œå¯ä»¥ä¾æ®[`deves_dataset/dataset_src/README.md`](deves_dataset/dataset_src/README.md)ï¼ˆè‹±æ–‡ï¼‰æˆ–[`deves_dataset/dataset_src/README_ZH.md`]ï¼ˆä¸­æ–‡ï¼‰çš„æè¿°è¿›è¡Œä¸‹è½½ï¼Œä¹Ÿå¯ä»¥ç›´æ¥ä»[Googleäº‘ç›˜](https://drive.google.com/file/d/12DJ7kWe8oRgVgdLyfr1VItETyCrpO-7O/view?usp=sharing)æˆ–[ç™¾åº¦ç½‘ç›˜](https://pan.baidu.com/s/12cAPTPsdzE4DBSESXCOAoA?pwd=j0p8)è·å–ï¼Œè§£å‹å¯†ç ä¸º`shortcutsbench`

            è¯¥æ–‡ä»¶ä¸­å¿«æ·æŒ‡ä»¤æ¶‰åŠåˆ°çš„APIå‡æœ‰ç›¸å…³çš„APIå®šä¹‰æ–‡ä»¶ã€‚è¯¥æ–‡ä»¶ä¸ºå¯¹`1_final_detailed_records_remove_repeat.json`æ¸…æ´—å¾—åˆ°ã€‚å¦‚æœä¸€ä¸ªå¿«æ·æŒ‡ä»¤åŒ…å«æ²¡æœ‰APIå®šä¹‰æ–‡ä»¶çš„APIï¼Œåˆ™è¯¥å¿«æ·æŒ‡ä»¤è¢«ç§»é™¤

        - [x] å¿«æ·æŒ‡ä»¤æ•°æ®é›†`<=30`ç‰ˆï¼Œå³æ–‡ä»¶`1_final_detailed_records_filter_apis_leq_30.json`ï¼Œå¯ä»¥ä¾æ®[`experiments/README.md`](deves_dataset/dataset_src/README.md)ï¼ˆè‹±æ–‡ï¼‰æˆ–[`experiments/README_ZH.md`]ï¼ˆä¸­æ–‡ï¼‰çš„æè¿°è¿›è¡Œä¸‹è½½ï¼Œä¹Ÿå¯ä»¥ç›´æ¥ä»[Googleäº‘ç›˜](https://drive.google.com/file/d/1Xw8PI9FH_ud6_S5gR-xpneFDZsCoQHQM/view?usp=sharing)æˆ–[ç™¾åº¦ç½‘ç›˜](https://pan.baidu.com/s/1NiKxy1KL9dNgIYq7aOZ8sA?pwd=sx6u)è·å–ï¼Œè§£å‹å¯†ç ä¸º`shortcutsbench`

            è€ƒè™‘åˆ°è¯­è¨€æ¨¡å‹ä¸Šä¸‹æ–‡é•¿åº¦çš„é™åˆ¶ï¼Œåœ¨[ShortcutsBenchè®ºæ–‡æ­£æ–‡](https://arxiv.org/pdf/2407.00132)ä¸­ï¼Œæˆ‘ä»¬ä»…è¯„æµ‹äº†é•¿åº¦`<=30`çš„å¿«æ·æŒ‡ä»¤
    - [x] æŸ¥è¯¢ã€‚æˆ‘ä»¬ç”Ÿæˆçš„æŸ¥è¯¢å¦‚`generated_success_queries.json`æ‰€ç¤ºï¼Œè¯¥æ–‡ä»¶å¯ä»[Googleäº‘ç›˜](https://drive.google.com/file/d/1XzGYIUE0vXTiERJm2yVLZ90knb4uchQ2/view?usp=sharing)æˆ–[ç™¾åº¦ç½‘ç›˜](https://pan.baidu.com/s/1RIRmJyc5y1hhnyMZBsAqUQ?pwd=y0er)è·å–ï¼Œè§£å‹å¯†ç ä¸º`shortcutsbench`

        æŸ¥è¯¢æ˜¯ä¾æ®`1_final_detailed_records_filter_apis_leq_30.json`ç”Ÿæˆçš„

    - [x] APIsã€‚æˆ‘ä»¬è·å–åˆ°çš„APIå¦‚`4_api_json_filter.json`æ‰€ç¤ºï¼Œè¯¥æ–‡ä»¶å¯ä»[Googleäº‘ç›˜](https://drive.google.com/file/d/1ZFk6IybvUq8BY8uF06ckqMii-dVV5-lF/view?usp=sharing)æˆ–[ç™¾åº¦ç½‘ç›˜](https://pan.baidu.com/s/1uEYXnTbFz7Nvaunvv8F6_w?pwd=zpft)è·å–ï¼Œè§£å‹å¯†ç ä¸º`shortcutsbench`

        `4_api_json_filter.json`ç»è¿‡æˆ‘ä»¬æ‰‹åŠ¨çš„å»é‡ï¼Œä½†ä¾æ—§å­˜åœ¨å°‘é‡é‡å¤æ–‡ä»¶ã€‚ç›´æ¥ä»Appä¸­æå–å‡ºçš„æœªç»è¿‡å¤„ç†çš„æ–‡ä»¶è¯¦è§`4_api_json.json`ï¼Œè¯¥æ–‡ä»¶å¯ä»[Googleäº‘ç›˜](https://drive.google.com/file/d/1clvUZ8MOcziy9rCg5ugj5V9O0kg7-iCK/view?usp=sharing)æˆ–[ç™¾åº¦ç½‘ç›˜](https://pan.baidu.com/s/1uM3gJPBr_JRPw9SaZVzXSg?pwd=ghsl)è·å–ï¼Œè§£å‹å¯†ç ä¸º`shortcutsbench`

## è¯¥é¡¹ç›®å¯¹æ‚¨æœ‰ä»€ä¹ˆå¸®åŠ©ï¼Ÿ

[è‹¹æœå¼€å‘è€…å¤§ä¼š WWDC'24](https://developer.apple.com/wwdc24/)åœ¨è‹¹æœè®¾å¤‡ä¸Šå¼•å…¥äº†å¤§é‡AIåŠŸèƒ½ğŸ¤–ã€‚æˆ‘ä»¬éå¸¸å…³æ³¨è‹¹æœå¦‚ä½•å°†ä»¥ChatGPTä¸ºä»£è¡¨çš„å¤§è¯­è¨€æ¨¡å‹ä¸è®¾å¤‡ç»“åˆï¼Œä¸ºç”¨æˆ·å¸¦æ¥æ›´æ™ºèƒ½çš„ä½“éªŒğŸ’¡ã€‚åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œå¿«æ·æŒ‡ä»¤ä¸€å®šä¼šå‘æŒ¥é‡è¦ä½œç”¨ï¼ğŸš€

### ä½œä¸ºå¿«æ·æŒ‡ä»¤ç”¨æˆ·å’Œçˆ±å¥½è€…ğŸ“±

æ‚¨å¯ä»¥åœ¨æ­¤æ•°æ®é›†ä¸­æ‰¾åˆ°æ‚¨æœ€å¿ƒä»ªçš„å¿«æ·æŒ‡ä»¤ğŸ“±ï¼Œä¸€é”®å¸®ä½ å®Œæˆå„ç§å¤æ‚ä»»åŠ¡ï¼ä¾‹å¦‚ï¼š

* ğŸ¡ **æ—¥å¸¸ç”Ÿæ´»** ğŸ¤¹
  * [èŠ‚æ—¥æé†’](https://www.icloud.com/shortcuts/5b3607d300e84e3d99889c7fb0258b92)
  * [ç™¾åº¦è´´å§ç­¾åˆ°](https://www.icloud.com/shortcuts/084dc19b51904a8a98e9135159fd2a61)
  * ......

* ğŸ›ï¸ **è´­ç‰©å…š** ğŸ›’
  * [è´­ä¹°PUBG Mobile UC](https://www.icloud.com/shortcuts/7234c2d743004377b4c74ea01d160648)
  * [å¤åˆ¶æ·˜å®å£ä»¤](https://www.icloud.com/shortcuts/e8dabf3b52eb412f9bdfeb6ce163cec3)
  * ......

* ğŸ§‘â€ğŸ“ **å­¦ç”Ÿå…š** ğŸ§®
  * [è®¡ç®—å™¨](https://www.icloud.com/shortcuts/477e692d2646448fb6364539b0fcb608)
  * [æ”¾ç©ºå¿ƒçµ](https://www.icloud.com/shortcuts/5d1f7e70a3f24493be92be2ed427c070)
  * ......

* âŒ¨ï¸ **æ–‡å­—å·¥ä½œè€…** ğŸ”£
  * [ç¿»è¯‘å™¨](https://www.icloud.com/shortcuts/62f3fd91e29749fda1576f80f62423ed)
  * [åˆ¶ä½œPDF](https://www.icloud.com/shortcuts/964373096afc424d90be716ea7a88c6e)
  * ......

* ğŸ§‘â€ğŸ”¬ **ç§‘ç ”å·¥ä½œè€…** ğŸ«
  * [è·å– arXiv bibtex æ¡ç›®](https://www.icloud.com/shortcuts/2222c346272249ca96e06fb64ba53845)
  * ......

* .....

### ä½œä¸ºç ”ç©¶è€…ğŸ”¬
* ç ”ç©¶è‡ªåŠ¨åŒ–å·¥ä½œæµçš„æ„å»ºï¼šå¿«æ·æŒ‡ä»¤æœ¬è´¨ä¸Šæ˜¯ç”±ä¸€ç³»åˆ—APIè°ƒç”¨ï¼ˆåŠ¨ä½œï¼‰æ„æˆçš„å·¥ä½œæµï¼Œè¿™äº›APIç”±è‹¹æœå’Œç¬¬ä¸‰æ–¹Appæä¾›ğŸ”
* ç ”ç©¶ä½ä»£ç ç¼–ç¨‹ï¼šå¿«æ·æŒ‡ä»¤åŒ…å«åˆ†æ”¯ã€å¾ªç¯ã€å˜é‡èµ‹å€¼ç­‰ä»£ç ç‰¹å¾ï¼ŒåŒæ—¶æ‹¥æœ‰ç”¨æˆ·å‹å¥½çš„å›¾å½¢åŒ–ç•Œé¢ğŸ–¥ï¸
* ç ”ç©¶åŸºäºAPIçš„æ™ºèƒ½ä½“ï¼šè®©å¤§è¯­è¨€æ¨¡å‹æ ¹æ®ç”¨æˆ·æŸ¥è¯¢ï¼ˆä»»åŠ¡ï¼‰è‡ªä¸»å†³å®šæ˜¯å¦ã€ä½•æ—¶ä»¥åŠå¦‚ä½•ä½¿ç”¨APIğŸ”§
* ç ”ç©¶åˆ©ç”¨å¿«æ·æŒ‡ä»¤å¾®è°ƒå¤§è¯­è¨€æ¨¡å‹ï¼Œä¿ƒè¿›å¤§è¯­è¨€æ¨¡å‹ä¸æ‰‹æœºã€ç”µè„‘ã€æ™ºèƒ½æ‰‹è¡¨çš„ç´§å¯†ç»“åˆï¼Œå®ç°â€œåŸºäºå¤§è¯­è¨€æ¨¡å‹çš„æ“ä½œç³»ç»Ÿâ€çš„æ„¿æ™¯ğŸ“ˆ
* ......

## ğŸŒŸ**ShortcutsBenchå¯¹æ¯”ç°æœ‰åŸºäºAPIçš„æ™ºèƒ½ä½“æ•°æ®é›†çš„ä¼˜åŠ¿**ğŸŒŸ

ShortcutsBench åœ¨ API çš„çœŸå®æ€§ã€ä¸°å¯Œæ€§å’Œå¤æ‚æ€§ï¼ŒæŸ¥è¯¢å’Œç›¸åº”åŠ¨ä½œåºåˆ—çš„æœ‰æ•ˆæ€§ï¼Œå‚æ•°å€¼çš„å‡†ç¡®å¡«å……ï¼Œä»ç³»ç»Ÿæˆ–ç”¨æˆ·è·å–ä¿¡æ¯çš„æ„è¯†ï¼Œä»¥åŠæ•´ä½“è§„æ¨¡æ–¹é¢å…·æœ‰æ˜¾è‘—ä¼˜åŠ¿ã€‚

æ®æˆ‘ä»¬æ‰€çŸ¥ï¼ŒShortcutsBench æ˜¯é¦–ä¸ªåŸºäºçœŸå® API çš„å¤§è§„æ¨¡æ™ºèƒ½ä½“åŸºå‡†ï¼Œè€ƒè™‘äº† APIã€æŸ¥è¯¢åŠç›¸åº”çš„åŠ¨ä½œåºåˆ—ã€‚ShortcutsBench æä¾›äº†ä¸°å¯Œçš„çœŸå® APIã€ä¸åŒéš¾åº¦å’Œä»»åŠ¡ç±»å‹çš„æŸ¥è¯¢ã€é«˜è´¨é‡çš„äººç±»æ³¨é‡ŠåŠ¨ä½œåºåˆ—ï¼ˆç”±å¿«æ·æ–¹å¼å¼€å‘è€…æä¾›ï¼‰ï¼Œä»¥åŠæ¥è‡ªçœŸå®ç”¨æˆ·éœ€æ±‚çš„æŸ¥è¯¢ã€‚æ­¤å¤–ï¼Œå®ƒè¿˜æä¾›äº†ç²¾ç¡®çš„å‚æ•°å€¼å¡«å……ï¼ŒåŒ…æ‹¬åŸå§‹æ•°æ®ç±»å‹ã€æšä¸¾ç±»å‹ä»¥åŠä½¿ç”¨ä¹‹å‰åŠ¨ä½œçš„è¾“å‡ºä½œä¸ºå‚æ•°å€¼ï¼Œå¹¶è¯„ä¼°æ™ºèƒ½ä½“åœ¨è¯·æ±‚ç³»ç»Ÿæˆ–ç”¨æˆ·å¿…è¦ä¿¡æ¯æ–¹é¢çš„æ„è¯†ã€‚å†è€…ï¼ŒShortcutsBench ä¸­ APIã€æŸ¥è¯¢åŠç›¸åº”åŠ¨ä½œåºåˆ—çš„è§„æ¨¡å¯ä¸ç”± LLM åˆ›å»ºæˆ–ç°æœ‰æ•°æ®é›†ä¿®æ”¹çš„åŸºå‡†å’Œæ•°æ®é›†ç›¸åª²ç¾ç”šè‡³æ›´ä¼˜ã€‚ShortcutsBench ä¸ç°æœ‰åŸºå‡†/æ•°æ®é›†çš„æ€»ä½“å¯¹æ¯”è§ä¸‹è¡¨ã€‚

![Example Image](./assets/Comparison.png)

**å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œè¯·ç»™æˆ‘ä»¬ä¸€ä¸ªStarå§â­ï¸ï¼æ„Ÿè°¢æ”¯æŒï¼ğŸ™**

**å…³é”®è¯**ï¼šå¿«æ·æŒ‡ä»¤, è‹¹æœ, WWDC'24, Siri, iOS, macOS, watchOS, å·¥ä½œæµ, APIè°ƒç”¨, ä½ä»£ç ç¼–ç¨‹, æ™ºèƒ½ä½“, å¤§è¯­è¨€æ¨¡å‹

## å¿«æ·æŒ‡ä»¤ä½¿ç”¨æŒ‡å—ï¼ˆé¢å‘ç”¨æˆ·ï¼‰ğŸ“±

### æœç´¢æ‚¨æƒ³è¦çš„å¿«æ·æŒ‡ä»¤ğŸ”

åœ¨æœ¬ä»“åº“ä¸­ï¼Œ`users_dataset/${website name}/${category name}/README.md`æ–‡ä»¶ç”¨äºè®°å½•è¯¥ç±»åˆ«çš„æ‰€æœ‰å¿«æ·æŒ‡ä»¤çš„å…ƒä¿¡æ¯ï¼ŒåŒ…æ‹¬åç§°ã€æè¿°ã€iCloudä¸‹è½½é“¾æ¥ç­‰ã€‚æ¯ä¸€ä¸ª`README.md`æ–‡ä»¶çš„ç»“æ„å¦‚ä¸‹ï¼š

```markdown
### Name: Wine Shops # å¿«æ·æŒ‡ä»¤åç§°
- URL: https://www.icloud.com/shortcuts/78ffd18288fd4da286bfd570993ea46e # å¿«æ·æŒ‡ä»¤iCloudé“¾æ¥
- Source: https://shortcutsgallery.com # å¿«æ·æŒ‡ä»¤æ¥æºå•†åº—
- Description: Look for Wine shop near by you # å¿«æ·æŒ‡ä»¤åŠŸèƒ½æè¿°
```

ä½¿ç”¨å¿«æ·é”®`Ctrl + F`ï¼Œæ ¹æ®å¿«æ·æŒ‡ä»¤çš„åç§°å…³é”®è¯ç›´æ¥åœ¨æµè§ˆå™¨ä¸­è¿›è¡Œæ£€ç´¢ğŸ”ã€‚æ‚¨ä¹Ÿå¯ä»¥è®¿é—®[å¿«æ·æŒ‡ä»¤æœé›†ç«™](#æ•°æ®æºä¸é“¾æ¥-ğŸŒ)æœç´¢æ‚¨æƒ³è¦çš„å¿«æ·æŒ‡ä»¤ğŸŒã€‚

### å¯¼å…¥æœç´¢åˆ°çš„å¿«æ·æŒ‡ä»¤ğŸ“¥

åœ¨è‹¹æœè®¾å¤‡ä¸Šï¼Œç‚¹å‡»URLä¸­çš„iCloudé“¾æ¥åï¼Œå¿«æ·æŒ‡ä»¤å°†ä¼šè‡ªåŠ¨æ‰“å¼€å¹¶å¯¼å…¥åˆ°æ‚¨çš„å¿«æ·æŒ‡ä»¤Appä¸­ğŸ“²ã€‚

### ä¸‹è½½å¿«æ·æŒ‡ä»¤æºæ–‡ä»¶

é™¤äº†ä½¿ç”¨iCloudé“¾æ¥é€ä¸€ä¸‹è½½å¿«æ·æŒ‡ä»¤ï¼Œæ‚¨ä¹Ÿç›´æ¥ä»ä»¥ä¸‹é“¾æ¥è·å–å®Œæ•´æ•°æ®ï¼š

- [ç™¾åº¦ç½‘ç›˜](https://pan.baidu.com/s/1qVX03DjSfBXXXW5W96jtqQ?pwd=33s2)
- [Googleäº‘ç›˜](https://drive.google.com/drive/folders/171d_iiyBpQSfC-nLFpFDBq2P0Y7Tqw_m?usp=sharing)

#### æ•°æ®æºä¸é“¾æ¥ ğŸŒ

| æ•°æ®æº | å…ƒæ•°æ®ä½ç½® | äº‘ç›˜é“¾æ¥ |
| :-------: | :----: | :----: |
| [Matthewcassinelli](https://matthewcassinelli.com/sirishortcuts/library/free) | [ åœ¨æœ¬ä»“åº“çš„ä½ç½®](users_dataset/matthewcassinelli.com_sirishortcuts_library_free) | [Googleäº‘ç›˜é“¾æ¥](https://drive.google.com/drive/folders/1Dq9A44qP5s6-HOducpg-pGRbsyCGRNsW?usp=drive_link) \| [ç™¾åº¦ç½‘ç›˜é“¾æ¥](https://pan.baidu.com/s/1Wru9TC_1MPqX26Ua6IzPQQ?pwd=3zwl) |
| [Routinehub](https://routinehub.co) | [ åœ¨æœ¬ä»“åº“çš„ä½ç½®](users_dataset/routinehub.co) | [Googleäº‘ç›˜é“¾æ¥](https://drive.google.com/drive/folders/1IEhry0vnK48-GGF39kEMgQDtoSObR979?usp=drive_link) \| [ç™¾åº¦ç½‘ç›˜é“¾æ¥](https://pan.baidu.com/s/1WFZw-G_w9QZQDyAdcYe-Yg?pwd=lp6d) |
| [MacStories](https://www.macstories.net/shortcuts) | [ åœ¨æœ¬ä»“åº“çš„ä½ç½®](users_dataset/www.macstories.net_shortcuts) | [Googleäº‘ç›˜é“¾æ¥](https://drive.google.com/drive/folders/11z32E2_mphNcrcz0jg2RZ0Tit6zxxJOy?usp=drive_link) \| [ç™¾åº¦ç½‘ç›˜é“¾æ¥](https://pan.baidu.com/s/1qfeCKUtTnO4gihSydfbYlg?pwd=u9p2) |
| [ShareShortcuts](https://shareshortcuts.com) | [ åœ¨æœ¬ä»“åº“çš„ä½ç½®](users_dataset/shareshortcuts.com) | [Googleäº‘ç›˜é“¾æ¥](https://drive.google.com/drive/folders/197zOSqDcTlZp242NK38G1ShFs8Mi6qff?usp=drive_link) \| [ç™¾åº¦ç½‘ç›˜é“¾æ¥](https://pan.baidu.com/s/13M6PSPXhSMwAhDuRLlqbIw?pwd=j7gn) |
| [ShortcutsGallery](https://shortcutsgallery.com) | [ åœ¨æœ¬ä»“åº“çš„ä½ç½®](users_dataset/shortcutsgallery.com) | [Googleäº‘ç›˜é“¾æ¥](https://drive.google.com/drive/folders/1ieovTT-QOZIpub8BW8I7MicM9KcwJDwB?usp=drive_link) \| [ç™¾åº¦ç½‘ç›˜é“¾æ¥](https://pan.baidu.com/s/1knXrn_OwPqUxaDvqSZQ1ag?pwd=ux9x) |
| [iSpazio](https://shortcuts.ispazio.net) | [ åœ¨æœ¬ä»“åº“çš„ä½ç½®](users_dataset/shortcuts.ispazio.net) | [Googleäº‘ç›˜é“¾æ¥](https://drive.google.com/drive/folders/1lPmyxYE1UtKsOPNJU5b0zc6B7wyK-bns?usp=drive_link) \| [ç™¾åº¦ç½‘ç›˜é“¾æ¥](https://pan.baidu.com/s/1l2IIrcpK7WTYuT3Ec57SxA?pwd=0l0u) |
| [æ·å¾„åº“](https://jiejingku.net) | [ åœ¨æœ¬ä»“åº“çš„ä½ç½®](users_dataset/jiejingku.net) | [Googleäº‘ç›˜é“¾æ¥](https://pan.baidu.com/s/1WdgWmGkRfevTyit4i14DOg?pwd=ud3d) \| [ç™¾åº¦ç½‘ç›˜é“¾æ¥](https://pan.baidu.com/s/1n0pxGttbsCttDZkVkOZiag?pwd=0yzg) |
| [å°‘æ•°æ´¾](https://shortcuts.sspai.com) | [ åœ¨æœ¬ä»“åº“çš„ä½ç½®](users_dataset/shortcuts.sspai.com) | [Googleäº‘ç›˜é“¾æ¥](https://pan.baidu.com/s/1BQcGi12fhtxOLD8gpt135A?pwd=tjqi) \| [ç™¾åº¦ç½‘ç›˜é“¾æ¥](https://pan.baidu.com/s/1M2tR9lOFr-6rIeKoB7T8PQ?pwd=22fn) |
| [æ·å¾„èŒƒ](https://jiejing.fun) | [ åœ¨æœ¬ä»“åº“çš„ä½ç½®](users_dataset/jiejing.fun) | [Googleäº‘ç›˜é“¾æ¥](https://pan.baidu.com/s/1Hdco7WtgN0kEVfqcxJi3qQ?pwd=5732) \| [ç™¾åº¦ç½‘ç›˜é“¾æ¥](https://pan.baidu.com/s/16oSRINZK-gyy38x51QO7dQ?pwd=2fj4) |
| [æŸ¯åŸºæ·å¾„åº“](https://www.kejicut.com) | [ åœ¨æœ¬ä»“åº“çš„ä½ç½®](users_dataset/www.kejicut.com) | [Googleäº‘ç›˜é“¾æ¥](https://pan.baidu.com/s/1SBlhUB3H6VPm5mwW0fHHyw?pwd=0q7p) \| [ç™¾åº¦ç½‘ç›˜é“¾æ¥](https://pan.baidu.com/s/1kQwvwj5tQorJeYZ22w3iUw?pwd=8eah) |
| [iOSå¿«æ·æŒ‡ä»¤åº“](https://www.rcuts.com) | [ åœ¨æœ¬ä»“åº“çš„ä½ç½®](users_dataset/www.rcuts.com) | [Googleäº‘ç›˜é“¾æ¥](https://pan.baidu.com/s/1UZLcXjmAVCLwZKiK4638Ug?pwd=8vv0) \| [ç™¾åº¦ç½‘ç›˜é“¾æ¥](https://pan.baidu.com/s/1h8frW1928kfW38pnjJorGA?pwd=1c28) |

#### å¿«æ·æŒ‡ä»¤æºæ–‡ä»¶ç®€ä»‹

ç½‘ç›˜ä¸­çš„å¿«æ·æŒ‡ä»¤æºæ•°æ®ä»¥ä»¥ä¸‹ç›®å½•ç»“æ„ç»„ç»‡ï¼š
```
users_dataset/
â”œâ”€â”€ matthewcassinelli.com_sirishortcuts_library_free # ç½‘ç«™åç§°
â”‚   â”œâ”€â”€ file1
â”‚   â”œâ”€â”€ file2
â”‚   â””â”€â”€ file3

æˆ–

users_dataset/
â”œâ”€â”€ jiejingku.net # ç½‘ç«™åç§°
â”‚   â”œâ”€â”€ category1 # ç±»åˆ« 
â”‚   â”‚   â”œâ”€â”€ file1 # æ¯ä¸€ä¸ªå…·ä½“çš„å¿«æ·æŒ‡ä»¤
â”‚   â”‚   â””â”€â”€ file2
â”‚   â”œâ”€â”€ category2
â”‚   â”‚   â””â”€â”€ file3
```

æ¯ä¸ªæ–‡ä»¶ä»£è¡¨ä¸€ä¸ªå¿«æ·æŒ‡ä»¤ã€‚æ–‡ä»¶åç”±å¿«æ·æŒ‡ä»¤åç§°ç®€å•å¤„ç†åç”Ÿæˆï¼Œå¤„ç†ä»£ç å¦‚ä¸‹ï¼š
```python
file_name = re.sub(r'[^a-zA-Z0-9]', '_', name)
```

æˆ‘ä»¬æä¾›çš„å¿«æ·æŒ‡ä»¤æºæ–‡ä»¶ä¸º`JSON`æ ¼å¼ï¼Œè€Œä»è‹¹æœè®¾å¤‡ä¸­å¯¼å‡ºçš„å¿«æ·æŒ‡ä»¤ä¸º`iCloud`é“¾æ¥ï¼ˆä»¥é“¾æ¥å½¢å¼åˆ†äº«ï¼‰æˆ–æ˜¯å—åˆ°è‹¹æœåŠ å¯†çš„å¿«æ·æŒ‡ä»¤æ–‡ä»¶ï¼ˆä»¥`.shortcut`ä¸ºåç¼€ï¼‰ã€‚

è‹¥æ‚¨å¸Œæœ›å°†æŸä¸ªå¿«æ·æŒ‡ä»¤æºæ–‡ä»¶å¯¼å…¥å¿«æ·æŒ‡ä»¤Appï¼Œè¯·åœ¨`macOS`ä¸Šè¿›è¡Œä»¥ä¸‹æ“ä½œï¼š
* å°†`JSON`æ–‡ä»¶æ ¼å¼è½¬æ¢ä¸º`PLIST`æ–‡ä»¶æ ¼å¼ğŸ“‘ã€‚
    ```python
    import xml.etree.ElementTree as ET
    
    def parse_element(element):
      """
      é€’å½’è§£æXMLå…ƒç´ ï¼Œè¿”å›å­—å…¸å’Œåˆ—è¡¨ã€‚
      """
      if element.tag == 'dict':
          return {element[i].text: parse_element(element[i+1]) for i in range(0, len(element), 2)}
      elif element.tag == 'array':
          return [parse_element(child) for child in element]
      elif element.tag == 'true':
          return True
      elif element.tag == 'false':
          return False 
      elif element.tag == 'integer':
          return int(element.text)
      elif element.tag == 'string':
          return element.text
      elif element.tag == 'real':
          return float(element.text)
      else:
          raise ValueError("Unsupported tag: " + element.tag)
    
    tree = ET.parse(file_path)
    root_element = tree.getroot()
    parsed_data = parse_element(root_element[0])
    data = parsed_data

    save_path = "./"
    with open(save_path, 'w') as f:
        json.dump(data, f, indent=4)
    ```
* å¯¹è¯¥`PLIST`æ–‡ä»¶è¿›è¡Œç­¾åğŸ”ï¼Œå³`shortcuts sign --mode anyone --input $input_file --output $output_file`ï¼Œ`$input_file`å’Œ`$output_file`æ¢æˆå®é™…çš„æ–‡ä»¶è·¯å¾„ã€‚
* å°†ç­¾ååçš„æ–‡ä»¶å¯¼å…¥å¿«æ·æŒ‡ä»¤AppğŸ“²ã€‚

## ShortcutsBenchæ•°æ®é›†æ„å»ºæŒ‡å—ğŸ“š

![æ•°æ®è·å–æµç¨‹](./assets/DatasetAcquisition.drawio.png)
æˆ‘ä»¬åœ¨è®ºæ–‡æ­£æ–‡ä¸­è¯¦ç»†é˜è¿°äº†ShortcutsBenchçš„æ„å»ºæµç¨‹ï¼Œè¯¦æƒ…è¯·å‚è§æˆ‘ä»¬çš„[è®ºæ–‡](https://arxiv.org/pdf/2407.00132)ï¼Œä»¥ä¸‹è¡¥å……ä¸€äº›ç»†èŠ‚ã€‚

å¦‚ä½•ä½¿ç”¨å¿«æ·æŒ‡ä»¤ï¼Ÿå¦‚ä½•åˆ†äº«å¿«æ·æŒ‡ä»¤ï¼Ÿå¦‚ä½•æŸ¥çœ‹å¿«æ·æŒ‡ä»¤çš„æºæ–‡ä»¶ï¼Ÿ

1. å¯¼å…¥å¿«æ·æŒ‡ä»¤åˆ°å¿«æ·æŒ‡ä»¤Appã€‚

   å¯ä»¥é€šè¿‡åœ¨è‹¹æœè®¾å¤‡ä¸Šç‚¹å‡»iCloudé“¾æ¥å°†å¿«æ·æŒ‡ä»¤å¯¼å…¥å¿«æ·æŒ‡ä»¤appä»è€Œä½œä¸ºæ™®é€šç”¨æˆ·ä½¿ç”¨è¯¥å¿«æ·æŒ‡ä»¤ã€‚

2. åˆ†äº«å¿«æ·æŒ‡ä»¤ã€‚
   * å¯ä»¥é€šè¿‡`macOS`æˆ–`iOS`ä¸Šçš„å¿«æ·æŒ‡ä»¤Appçš„`Share`å°†è¯¥å¿«æ·æŒ‡ä»¤è½¬æ¢æˆiCloudé“¾æ¥è¿›è¡Œåˆ†äº«ã€‚
   * å¯ä»¥é€šè¿‡`macOS`ä¸Šçš„å¿«æ·æŒ‡ä»¤Appçš„`Share`å°†è¯¥å¿«æ·æŒ‡ä»¤ä»¥æºæ–‡ä»¶çš„å½¢å¼åˆ†äº«ï¼Œåˆ†äº«å¾—åˆ°çš„å¿«æ·æŒ‡ä»¤ä»¥`.shortcut`ä¸ºæ–‡ä»¶ååç¼€ã€‚æ³¨æ„ï¼šåˆ†äº«çš„æºæ–‡ä»¶ä¸ºè‹¹æœåŠ å¯†è¿‡åçš„æºæ–‡ä»¶ï¼Œæ— æ³•ç›´æ¥ä½¿ç”¨`python`çš„`plist`åŒ…è§£æã€‚

3. è§£å¯†å•ä¸ªæˆ–å¤šä¸ªå¿«æ·æŒ‡ä»¤ã€‚
   å¦‚å¸Œæœ›å¯¹æŸä¸ªå¿«æ·æŒ‡ä»¤è¿›è¡Œè§£å¯†ï¼Œå¯ä»¥ä½¿ç”¨å¦‚ä¸‹å¿«æ·æŒ‡ä»¤å¯¹åˆ«çš„å¿«æ·æŒ‡ä»¤è¿›è¡Œè§£å¯†ï¼Œè§£å¯†åçš„æ–‡ä»¶ä¸º`plist`æ ¼å¼çš„æ–‡ä»¶ã€‚
   * [Get Plistï¼Œè§£æå•ä¸ªshortcutä¸ºplistæ ¼å¼çš„æ–‡ä»¶](https://www.icloud.com/shortcuts/b04412850b9f4f74ad16f2f15ef09a3f)
   * [Get Plist Loopï¼Œè§£æå¿«æ·æŒ‡ä»¤Appä¸­çš„æ‰€æœ‰shortcutä¸ºplistæ ¼å¼çš„æ–‡ä»¶å¹¶ä¿å­˜](https://www.icloud.com/shortcuts/8fa07dea82cf413c81732dca5f15323f)

   ä¸ºäº†æ–¹ä¾¿é˜…è¯»ï¼Œæ‚¨å¯ä»¥é€‰æ‹©å°†è¯¥`plist`æ ¼å¼çš„æ–‡ä»¶è½¬åŒ–ä¸º`json`æ ¼å¼çš„æ–‡ä»¶ï¼Œæˆ‘ä»¬æä¾›çš„shortcutæºæ–‡ä»¶å‡ä¸º`json`æ ¼å¼ã€‚

4. å¦‚ä½•å¤§è§„æ¨¡çš„è·å–å¿«æ·æŒ‡ä»¤æºå¤´æ–‡ä»¶ï¼Ÿ

   ç›¸æ¯”ä½¿ç”¨`Get Plist`å’Œ`Get Plist Loop`ä»å¿«æ·æŒ‡ä»¤ä¸­è§£æå‡ºå¿«æ·æŒ‡ä»¤ï¼Œä¸ºäº†æ›´å¿«æ·é«˜æ•ˆçš„å¤§é‡è·å–å¿«æ·æŒ‡ä»¤çš„æºæ–‡ä»¶ï¼Œæˆ‘ä»¬éµå¾ªäº†ä»¥ä¸‹ä¸¤ä¸ªæ­¥éª¤ï¼š
   1. è·å–å½¢å¦‚`https://www.icloud.com/shortcuts/${unique_id}`ã€‚
   2. ä»`https://www.icloud.com/shortcuts/api/records/${unique_id}`ã€‚
   3. ä»ä¸Šä¸€æ­¥éª¤ä¸­è·å¾—çš„æ•°æ®`cur_dict`ä¸­ï¼ˆå¯è½¬åŒ–ä¸º`json`æ ¼å¼ï¼‰ï¼Œæ‹¿åˆ°å¿«æ·æŒ‡ä»¤æºæ–‡ä»¶çš„ä¸‹è½½é“¾æ¥`cur_dict["fields"]["shortcut"]["value"]["downloadURL"]`ï¼Œå†æ¬¡è¯·æ±‚è¯¥ä¸‹è½½é“¾æ¥ä¸‹è½½å¿«æ·æŒ‡ä»¤çš„æºæ–‡ä»¶ã€‚æ³¨æ„ï¼šè¯¥ä¸‹è½½é“¾æ¥ä¼šå¾ˆå¿«è¿‡æœŸï¼Œæ‚¨éœ€è¦å°½å¿«ä½¿ç”¨è¯¥é“¾æ¥ã€‚

   ç›´æ¥ä¸‹è½½å¾—åˆ°çš„æºæ–‡ä»¶ä¸º`plist`æ–‡ä»¶æ ¼å¼ï¼Œä½ å¯ä»¥é€‰æ‹©å°†`plist`æ ¼å¼çš„æ–‡ä»¶ä¸“æˆ·ä¸º`json`æ ¼å¼çš„æ–‡ä»¶ã€‚

   ä»¥ä¸‹ä»£ç ï¼ˆå·²ç®€åŒ–ï¼‰å±•ç¤ºäº†ä¸Šè¿°æ‰€æœ‰è¿‡ç¨‹ï¼Œæœ€ç»ˆçš„`response_json`å³ä¸º`json`æ ¼å¼çš„å¿«æ·æŒ‡ä»¤æºæ–‡ä»¶:
   ```python
   response = requests.get(f"https://www.icloud.com/shortcuts/api/records/{unique_id}")

   cur_dict = response.json()
   downloadURL = cur_dict["fields"]["shortcut"]["value"]["downloadURL"]
   new_response = requests.get(downloadURL)
   # ä½¿ç”¨pliståŒ…è½¬æ¢ä¸ºjsonå­˜å‚¨åœ¨response_jsonä¸­
   response_json = biplist.readPlistFromString(new_response.content)
   ```

## è®¸å¯å£°æ˜ ğŸ“œ

æœ¬é¡¹ç›®ä¸­çš„æ‰€æœ‰ä»£ç å’Œæ•°æ®é›†å‡ä¾æ®`Apache License 2.0`è¿›è¡Œè®¸å¯ã€‚è¿™æ„å‘³ç€æ‚¨å¯ä»¥è‡ªç”±åœ°ä½¿ç”¨ã€å¤åˆ¶ã€ä¿®æ”¹å’Œåˆ†å‘æœ¬é¡¹ç›®çš„å†…å®¹ï¼Œä½†éœ€éµå®ˆä»¥ä¸‹æ¡ä»¶ï¼š

- **ç‰ˆæƒå£°æ˜**ï¼šå¿…é¡»åœ¨é¡¹ç›®çš„æ‰€æœ‰å‰¯æœ¬ä¸­ä¿ç•™åŸå§‹ç‰ˆæƒå£°æ˜å’Œè®¸å¯è¯å£°æ˜ã€‚
- **çŠ¶æ€å£°æ˜**ï¼šå¦‚æœå¯¹ä»£ç è¿›è¡Œäº†ä¿®æ”¹ï¼Œå¿…é¡»åœ¨ä»»ä½•ä¿®æ”¹æ–‡ä»¶ä¸­æ ‡æ˜æ‰€åšçš„æ›´æ”¹ã€‚
- **å•†æ ‡ä½¿ç”¨**ï¼šæœ¬è®¸å¯ä¸æˆäºˆä½¿ç”¨é¡¹ç›®å•†æ ‡ã€æœåŠ¡æ ‡å¿—æˆ–å•†å“åç§°çš„æƒåˆ©ã€‚

å®Œæ•´çš„è®¸å¯è¯æ–‡æœ¬è¯·è§[LICENSE](./LICENSE)ã€‚

æ­¤å¤–ï¼Œæ‚¨è¿˜éœ€éµå®ˆæœ¬é¡¹ç›®æ•°æ®æ¥æºï¼Œå„ä¸ªå¿«æ·æŒ‡ä»¤åˆ†äº«ç«™çš„è®¸å¯åè®®ã€‚

# å¼•ç”¨

å¦‚æœæ‚¨è§‰å¾—æœ‰ç”¨ï¼Œè¯·è€ƒè™‘å¼•ç”¨æˆ‘ä»¬çš„å·¥ä½œï¼š
```latex
@misc{
    shen2024shortcutsbenchlargescalerealworldbenchmark,
    title={ShortcutsBench: A Large-Scale Real-world Benchmark for API-based Agents}, 
    author={Haiyang Shen and Yue Li and Desong Meng and Dongqi Cai and Sheng Qi and Li Zhang and Mengwei Xu and Yun Ma},
    year={2024},
    eprint={2407.00132},
    archivePrefix={arXiv},
    primaryClass={cs.SE},
    url={https://arxiv.org/abs/2407.00132}, 
}
```